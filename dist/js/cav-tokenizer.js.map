{"version":3,"file":"js/../js/cav-tokenizer.js","mappings":"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","sources":["webpack://vdsor/./node_modules/astry/dist/js/scanner.js","webpack://vdsor/webpack/bootstrap","webpack://vdsor/./js/cav-tokenizer.ts"],"sourcesContent":["(()=>{\"use strict\";var __webpack_exports__={};(()=>{var exports=__webpack_exports__,OPERATIONS,MARKS,SCOPE;Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.unwrapTokens=exports.UseKey=exports.Token=exports.OPERATIONS=exports.Scanner=void 0;class Hook{constructor(){this.mode=1}}class Node extends Hook{constructor(type,map,useContent){super(),this.type=type,this.map=map,this.useContent=useContent,this.Wrapper=Node.NODE_MAP[type]||(Node.NODE_MAP[type]=eval(`(function ${type}(){this.type=\"${type}\";})`))}use(e,t,n){let{tokens:o,hookPoint:s}=e;const i=new this.Wrapper;i.loc={start:t,end:n};let r=function(e){i[e.key]=e.value};if(this.useContent){const e=i.content=[];r=function(t){e.push(t)}}o=o.splice(s),this.map&&(o=this.map(o,e,t,n)||o),function e(t){t instanceof Array?t.forEach(e):t instanceof UseKey&&r(t)}(o),e.tokens.push(i)}}Node.NODE_MAP={};class UseKey{constructor(e,t){this.key=e,this.value=t}}exports.UseKey=UseKey;class Key extends Hook{constructor(e,t){super(),this.key=e,this.map=t}use(e,t,n){let{tokens:o,hookPoint:s}=e,i=o[s];this.map&&(i=this.map(i,e,t,n)||i),o.splice(s,1,new UseKey(this.key,i))}}Key.Wrapper=UseKey;class Merge extends Hook{constructor(e){super(),this.map=e}use(e,t,n){let{tokens:o,hookPoint:s}=e;o.push(this.map(o.splice(s),e,t,n))}}class Prev extends Hook{constructor(e,t){super(),this.match=e,this.onlyToken=t}use(e){let{tokens:t,hookPoint:n}=e;n-=1;let o=t[n];if(!this.onlyToken||o instanceof Token){if(this.match){let s=this.match(o,e);if(s&&\"number\"==typeof s&&s!==o.value.length)return void t.splice(n,1,o.slice(0,-s),o.slice(-s))}e.hookPoint-=1}}}class Pipe extends Hook{constructor(e){super(),this.pipe=e,this.mode=4}use(e,t,n){let{tokens:o,hookPoint:s}=e,i=this.pipe(o[s],e,t,n);void 0!==i?o[s]=i:o.splice(s,1)}}class Pick extends Pipe{constructor(){super(...arguments),this.mode=1}}class Call extends Hook{constructor(e,t){super(),this.use=e,this.mode=t}}class NoCapture extends Hook{constructor(){super(),this.mode=2}use(e,t,n){let{tokens:o,hookPoint:s}=e;o.splice(s,1),t.offset<e.offset&&(e.offset=t.offset,e.line=t.line,e.column=t.column)}}!function(e){e.FINISH=new String(\"FINISH\"),e.WRAP=new String(\"WRAP\"),e.UNWRAP=new String(\"UNWRAP\"),e.UNWRAP_ALL=new String(\"UNWRAP_ALL\"),e.OPTION=new String(\"OPTION\"),e.SPLIT=new String(\"SPLIT\"),e.NO_COLLECT=new String(\"NO_COLLECT\"),e.NO_CAPTURE=new String(\"NO_CAPTURE\"),e.MARK_AS_ROOT=new String(\"MARK_AS_ROOT\"),e.FORK_IN_PARENT=new String(\"FORK_IN_PARENT\"),e.FORK_IN_ROOT=new String(\"FORK_IN_ROOT\"),e.END=new String(\"END\"),e.END_ON_LEFT=new String(\"END_ON_LEFT\"),e.useKey=function(e,t){return new UseKey(e.toString(),t)},e.node=function(e,t,n=!1,o=1){const s=new Node(e,t,n);return s.mode=o,s},e.key=function(e,t){return new Key(e,t)},e.pick=function(e){return new Pick(e||function(){})},e.hook=function(e,t=1){return new Call(e,t)},e.pipe=function(e){return new Pipe(e||function(){})},e.prev=function(e,t){return new Prev(e,t)},e.merge=function(e=function(e){return e}){return new Merge(e)},e.MATCH_BEGIN=\"\",e.MATCH_END=\"\",e.MATCH_EOF=[[\"\",\"\"]],e.MERGE_ALL_TOKENS=e.merge((function(e){return e.reduce(((e,t)=>e.concat(t)))})),e.UNFOLD=e.hook((function(e){const{tokens:t,hookPoint:n}=e;for(const e of t.splice(n))e instanceof Array?t.push(...e):t.push(e)}),1)}(OPERATIONS||(OPERATIONS={})),exports.OPERATIONS=OPERATIONS,function(e){e.FINISH=OPERATIONS.FINISH,e.END=OPERATIONS.END,e.END_ON_LEFT=OPERATIONS.END_ON_LEFT,e.UNWRAP=OPERATIONS.UNWRAP,e.WRAP=OPERATIONS.WRAP,e.ROOT=new String(\"ROOT\"),e.RESOLVE=\"_RESOLVE_\",e.TYPE=\"_TYPE_\",e.ROLL=\"_ROLL_\",e.PARENT=\"_PARENT_\",e.COLLECT=\"_COLLECT_\",e.BUBBING_HOOKS=\"_BUBBING_HOOKS_\",e.CAPTURING_HOOKS=\"_CAPTURING_HOOKS_\",e.SLICE_HOOKS=\"_SLICE_HOOKS_\",e.IGNORE_TESTS=\"_IGNORE_TESTS_\",e.RESOLVE_TYPE_SET=new Set([OPERATIONS.FINISH,OPERATIONS.END,OPERATIONS.END_ON_LEFT,OPERATIONS.UNWRAP,OPERATIONS.UNWRAP_ALL,OPERATIONS.WRAP,e.ROOT])}(MARKS||(MARKS={})),function(e){e[e.NODE=0]=\"NODE\",e[e.START=1]=\"START\",e[e.CURSOR=2]=\"CURSOR\",e[e.BACK_POINT=3]=\"BACK_POINT\",e[e.USE_FOLD=4]=\"USE_FOLD\"}(SCOPE||(SCOPE={}));class Scanner{constructor(e,t){this.useEscape=!1,this.useFold=!0,this.ignoreCase=!1,this.scanTree=build(e),t&&Object.assign(this,t)}scan(e){let t,n,o=\"string\"==typeof e?{tokens:[],input:e,begin:0,offset:0,end:e.length,line:1,column:1,useFold:this.useFold,useEscape:this.useEscape,ignoreCase:this.ignoreCase,hookPoint:0}:e,s=[],i=[[this.scanTree,O(),O(),0,!1]],r=0,c=!0;for(;;){let e;if(r||(n=O()),c)e=\"\",c=!1;else{if(o.offset>=o.end){if(i[0][SCOPE.CURSOR].offset<n.offset){if(u(\"\")||l())return o;if(o.offset<o.end)break;s.length=0,u(\"\")}if(s.length){const e=t;if(u(\"\",!0),e!==t&&l())return o}i[0][SCOPE.CURSOR].offset<n.offset&&R(i[0][SCOPE.CURSOR],n,null);break}switch(e=o.input[o.offset],o.offset+=1,e){case\"\\r\":if(\"\\n\"!==o.input[o.offset])break;e=\"\\n\",o.offset+=1;case\"\\n\":o.line+=1,o.column=0}if(o.column+=1,o.ignoreCase&&(e=e.toLowerCase()),o.useEscape)if(\"\\\\\"===e){if(r^=1,r)continue}else r&&(r=0,e=\"\\\\\"+e)}if(u(e))return o}return o;function O(){return{offset:o.offset,line:o.line,column:o.column}}function u(e,o){const r=s;let c,u,S;for(s=[];;){if(r.length)[c,u]=r.shift();else{if(t||c===i[0][SCOPE.NODE])break;c=i[0][SCOPE.NODE],u=null}S=!1,t=f(c,u)||c[MARKS.ROLL]&&f(c[MARKS.ROLL],u)||t}if(!o&&0===s.length&&l())return!0;function f(t,o){let r=t[e];if(r&&(o?S&&(o=o.slice()):o=[[n,t[MARKS.CAPTURING_HOOKS]]],S=!0,s.push([r,o]),r[MARKS.CAPTURING_HOOKS]&&o.push([O(),r[MARKS.CAPTURING_HOOKS]]),r[MARKS.RESOLVE]))return r=r[MARKS.RESOLVE],[r,O(),o,i.length]}}function l(){if(!t)return;const[e,{offset:n,line:s,column:r},O,u]=t;i.splice(0,i.length-u),o.offset=n,o.line=s,o.column=r;let l=S(e,O,!0);if(l>0)return!0;if(l<0)do{const e=i.shift();let t=o.tokens;e[SCOPE.USE_FOLD]?(o.tokens=t.shift()).pop():t.length=e[SCOPE.BACK_POINT]}while(++l<0);t=null,c=!0}function S(e,t,n){let s=e[MARKS.TYPE];const r=i[0],c=t[0][0];let u=o.tokens.length;if(n){let n,o=e[MARKS.SLICE_HOOKS];o&&(n=t[0][1],n&&(n=n.filter((e=>o.has(e))))),R(r[SCOPE.CURSOR],c,n)}if(s===MARKS.WRAP)return function(e,t,n){const{useFold:s,tokens:r}=o,c=r.length;let u=t[0][0];i.unshift([e,u,O(),c,s]),s&&(o.tokens=[r],o.hookPoint=1);let l=n?E(t,e[MARKS.SLICE_HOOKS]):0;return l>=0&&(l=f(e[MARKS.BUBBING_HOOKS],u,O()),l>=0)&&(e=e[MARKS.RESOLVE])?S(e,t,!1):l}(e,t,n);const l=o.tokens.length;if(n&&s!==MARKS.END_ON_LEFT){let n=E(t,e[MARKS.SLICE_HOOKS]);if(n<0)return o.tokens.length=u,n+1}if(o.hookPoint=l,s===MARKS.UNWRAP)return function(e,t){const n=i.shift();if(n[SCOPE.USE_FOLD]){let e=o.tokens.shift();o.hookPoint=e.length,e.push(o.tokens),o.tokens=e}let s=f(e[MARKS.BUBBING_HOOKS],n[SCOPE.START],O());if(s>=0){if(e=e[MARKS.RESOLVE],i[0][SCOPE.CURSOR]=O(),!e)return s;if(s=S(e,t,!1),s>=0)return s}if(i.unshift(n),n[SCOPE.USE_FOLD]){let e=o.tokens.pop();e.unshift(o.tokens),o.tokens=e}return s+1}(e,t);{let t=f(e[MARKS.BUBBING_HOOKS],c,O());return t<0?(o.tokens.length=u,t+1):s===MARKS.END_ON_LEFT?(o.offset=c.offset,o.line=c.line,o.column=c.column,r[SCOPE.CURSOR]=c,1):(r[SCOPE.CURSOR]=O(),s!==MARKS.END?t:1)}}function f(e,t,n){for(const s of e){let e=s.use(o,t,n);if(e<0)return e}return 0}function R(e,t,n){let s=0;if(e.offset<t.offset){let{tokens:i}=o;o.hookPoint=i.length,i.push(new Token(o.input.slice(e.offset,t.offset),e,t)),n&&(s=f(n,e,t))}return s}function E(e,t){let n=e[0][0];if(t)for(let o=1;o<e.length;o+=1){let[s,i]=e[o];if(i=i.filter((e=>t.has(e))),i.length){const e=R(n,s,i);if(e<0)return e;n=s}}return R(n,O(),null)}}}exports.Scanner=Scanner;class Token{constructor(e,t,n){this.value=e,this.loc={start:t,end:n}}trim(){const e=this.value.match(/^\\s*|\\s*$/gm);return this.slice(e[0].length,this.value.length-e[1].length)}concat(e){return new Token(this.value+e.value,this.loc.start,e.loc.end)}slice(e,t=this.value.length){let{value:n,loc:{start:o,end:s}}=this,{offset:i,line:r,column:c}=o,O=0;t<0&&(t=n.length+t),e<0&&(e=n.length+e),e>t&&(t=e);const u=[e,t].map((function(e){if(0===e)return o;if(e===n.length)return s;for(;O<e;)\"\\n\"===n[O]?(r+=1,c=1):c+=1,O+=1;return{offset:i+e,line:r,column:c}}));return new Token(n.slice(e,t),u[0],u[1])}toString(){return this.value}}exports.Token=Token;class RootStack extends Array{}function build(e){const t={[MARKS.TYPE]:MARKS.ROOT},[n,o,s]=buildRule([e],[t],[[new RootStack]],[[]],[t]);for(let e=0;e<n.length;e+=1){const t=n[e];MARKS.RESOLVE_TYPE_SET.has(t[MARKS.TYPE])||buildKey(MARKS.FINISH,[t],[o[e]],[s[e]])}return t}function buildRule(e,t,n,o,s){const i=[];let r,c=0;for(;c<e.length;){let l=0,S=c;const f=[];for(;;){if(e[c]===OPERATIONS.FORK_IN_ROOT)l&&(f.push(l),l=0),f.push(OPERATIONS.FORK_IN_ROOT);else{if(e[c]!==OPERATIONS.FORK_IN_PARENT)break;l+=1}c+=1}if(c===S){switch(r=e[c]){case OPERATIONS.NO_CAPTURE:case OPERATIONS.NO_COLLECT:i.push(r);case OPERATIONS.SPLIT:u(null);break;case OPERATIONS.OPTION:return O([i.concat(e.slice(c+1)),i.concat(e.slice(c+2))],(function(e){return buildRule(e,t,n.map((e=>e.slice())),o.map((e=>e.slice())),s)}));case OPERATIONS.MARK_AS_ROOT:return e=i.concat(e.slice(c+1)),O(t,(function(t,i){const r=n[i];return buildRule(e,[t],[[new RootStack(...r[0])].concat(r.slice(1))],[o[i]],[t].concat(s))}));default:if(r instanceof Hook)u(r);else for([t,n,o]=r instanceof Array?O(r,(function(e){return(e instanceof Array?buildRule:buildKey)(e,t,n.map((e=>e.slice())),o.map((e=>e.slice())),s)})):buildKey(r,t,n,o);i.length;)u(i.shift()===OPERATIONS.NO_COLLECT?OPERATIONS.pipe():new NoCapture)}c+=1}else{l&&f.push(l);for(let e of t){let t=e,n=0;for(let e of f)if(e===OPERATIONS.FORK_IN_ROOT)t=s[n++];else do{t=t[MARKS.PARENT],t===s[n]&&(n+=1)}while(--e>=0);e[MARKS.ROLL]!==t&&(e[MARKS.ROLL],e[MARKS.ROLL]=t)}}}return[t,n,o];function O(e,t){let n=[],o=[],s=[];for(let i=0;i<e.length;i+=1){const r=t(e[i],i);n=n.concat(r[0]),o=o.concat(r[1]),s=s.concat(r[2])}return[n,o,s]}function u(e){if(window.test,e)switch(e.mode){case 1:n.forEach((e=>e.push(r)));break;case 4:case 2:for(let e=0;e<t.length;e+=1)s(e)}else{e=new Call((function(){}),2);for(let e=0;e<t.length;e+=1)MARKS.RESOLVE_TYPE_SET.has(t[e][MARKS.TYPE])||s(e)}function s(n){const s=t[n],i=s[MARKS.TYPE];4!==e.mode&&MARKS.RESOLVE_TYPE_SET.has(i)?s[MARKS.BUBBING_HOOKS].push(e):((s[MARKS.CAPTURING_HOOKS]||(s[MARKS.CAPTURING_HOOKS]=[])).push(e),o[n].push(e))}}}function buildKey(e,t,n,o,s){if(\"string\"==typeof e){/^[\\s\\S]?$/.test(e)&&(e=[e]);for(let n=0;n<e.length;n+=1)t=t.map((function(t){return t[e[n]]||(t[e[n]]={[MARKS.PARENT]:t})}))}else MARKS.RESOLVE_TYPE_SET.has(e)&&(t=t.map((function(t,s){let r=n[s],c=o[s];if(o[s]=[],e===OPERATIONS.UNWRAP_ALL){if(e=OPERATIONS.UNWRAP,!(r[0]instanceof RootStack)){r.length>1&&(r[0]=r[0].concat(r.slice(1)));do{n[s]=[r[0][0]],r=r[0],t=i(t,e,r,c)}while(!(r[0]instanceof RootStack))}}else e===OPERATIONS.UNWRAP?(n[s]=[r[0][0]],r=r[0].concat(r.slice(1))):e===OPERATIONS.WRAP?(n[s]=[r],r=[]):n[s]=[r[0]],t=i(t,e,r,c);return t})));return[t,n,o];function i(e,t,n,o){return e[MARKS.RESOLVE],e[MARKS.RESOLVE]={[MARKS.PARENT]:e,[MARKS.TYPE]:t,[MARKS.SLICE_HOOKS]:o.length?new Set(o.splice(0)):null,[MARKS.BUBBING_HOOKS]:n.slice(1).reverse()}}}function unwrapTokens(e){return e instanceof Token?e.value:e instanceof Array?e.map(unwrapTokens):e}exports.unwrapTokens=unwrapTokens})();var __webpack_export_target__=exports;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,\"__esModule\",{value:!0})})();\n//# sourceMappingURL=scanner.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import {\r\n    Scanner, OPERATIONS, HOOK_MODE, IScanEnv,\r\n    IPattern, Token,\r\n    IPosition, ISourceLocation,\r\n} from \"astry\"\r\n\r\n\r\nconst {\r\n    FINISH,\r\n    WRAP, UNWRAP, UNWRAP_ALL,\r\n    OPTION,\r\n    SPLIT,\r\n    NO_COLLECT, NO_CAPTURE,\r\n    MARK_AS_ROOT, FORK_IN_PARENT, FORK_IN_ROOT,\r\n    END, END_ON_LEFT,\r\n    useKey,\r\n    node, key, pick, hook, pipe, prev, merge,\r\n\r\n    MATCH_BEGIN,\r\n    MATCH_END,\r\n    MATCH_EOF,\r\n    MERGE_ALL_TOKENS,\r\n    UNFOLD\r\n} = OPERATIONS;\r\n\r\n\r\n\r\n\r\nconst MATCH_WHITE_SPACE_CHARACHER: IPattern = [` `, `\\n`, `\\t`];\r\nconst CLEAR_COMMENT: IPattern = [\r\n    [\r\n        NO_COLLECT,\r\n        [\r\n            [\"//\", WRAP, [\"\\n\", [MATCH_EOF]], UNWRAP],\r\n            [\"/*\", WRAP, [\"*/\", [MATCH_EOF]], UNWRAP],\r\n        ],\r\n    ]\r\n]\r\n\r\nconst CLEAR_WHITE_SPACE_CHARACHER: IPattern = [\r\n    [NO_COLLECT, MATCH_WHITE_SPACE_CHARACHER]\r\n];\r\n\r\nconst THROW_TOKEN_ERROR = hook(function (env, start, end) {\r\n    console.log(\"Invalid or unexpected token\", start, end);\r\n}, HOOK_MODE.RESOLVE);\r\n\r\nconst MATCH_STRING: IPattern = [\r\n    [\r\n        `\"`, WRAP,\r\n        [\r\n            [THROW_TOKEN_ERROR, `\\n`],\r\n            [`\\\\`, [`\\\\`, `\\n`, `\"`]],\r\n            [`\"`, UNWRAP]\r\n        ]\r\n\r\n    ],\r\n    [\r\n        `'`, WRAP,\r\n        [\r\n            [THROW_TOKEN_ERROR, `\\n`],\r\n            [`\\\\`, [`\\\\`, `\\n`, `'`]],\r\n            [`'`, UNWRAP]\r\n        ]\r\n    ],\r\n]\r\n\r\n// 不包含 '' \"\" 的 url 地址可能会包含断义字符 / 影响判别，这里通过单独匹配给出结果\r\nconst MATCH_URL: IPattern = [\r\n    [\r\n        MATCH_BEGIN, \"url(\", WRAP,\r\n        [\r\n            [MATCH_STRING],\r\n            [CLEAR_WHITE_SPACE_CHARACHER],\r\n            [\")\", UNWRAP]\r\n        ],\r\n    ]\r\n];\r\n\r\nexport default new Scanner([\r\n    [\r\n        MARK_AS_ROOT,\r\n        [\r\n            [MATCH_STRING],\r\n            [MATCH_URL],\r\n            [\r\n                // 使能在 ( 后被断句\r\n                // 这里没做额外检验允许括号前的空格\r\n                MERGE_ALL_TOKENS,\r\n                prev(null, true), \"(\"\r\n            ],\r\n            \")\",\r\n            [CLEAR_WHITE_SPACE_CHARACHER],\r\n            [CLEAR_COMMENT],\r\n            [\r\n                MERGE_ALL_TOKENS,\r\n                prev(null, true),\r\n                \"%\"\r\n            ],\r\n            \"/\",\r\n            \",\"\r\n        ]\r\n    ]\r\n])"],"names":["__webpack_exports__","exports","OPERATIONS","MARKS","SCOPE","e","Object","defineProperty","value","unwrapTokens","UseKey","Token","Scanner","Hook","constructor","this","mode","Node","type","map","useContent","super","Wrapper","NODE_MAP","eval","use","t","n","tokens","o","hookPoint","s","i","loc","start","end","r","key","content","push","splice","Array","forEach","Key","Merge","Prev","match","onlyToken","length","slice","Pipe","pipe","Pick","arguments","Call","NoCapture","offset","line","column","FINISH","String","WRAP","UNWRAP","UNWRAP_ALL","OPTION","SPLIT","NO_COLLECT","NO_CAPTURE","MARK_AS_ROOT","FORK_IN_PARENT","FORK_IN_ROOT","END","END_ON_LEFT","useKey","toString","node","pick","hook","prev","merge","MATCH_BEGIN","MATCH_END","MATCH_EOF","MERGE_ALL_TOKENS","reduce","concat","UNFOLD","ROOT","RESOLVE","TYPE","ROLL","PARENT","COLLECT","BUBBING_HOOKS","CAPTURING_HOOKS","SLICE_HOOKS","IGNORE_TESTS","RESOLVE_TYPE_SET","Set","NODE","START","CURSOR","BACK_POINT","USE_FOLD","useEscape","useFold","ignoreCase","scanTree","build","assign","scan","input","begin","O","c","u","l","R","toLowerCase","S","shift","f","pop","filter","has","unshift","E","trim","RootStack","buildRule","buildKey","window","test","reverse","__webpack_export_target__","__esModule","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","CLEAR_COMMENT","CLEAR_WHITE_SPACE_CHARACHER","THROW_TOKEN_ERROR","env","console","log","MATCH_STRING","MATCH_URL"],"sourceRoot":""}