(()=>{"use strict";var e={};(()=>{var t=e;function n(e){return"number"==typeof e&&e>=0&&!(e%1)}Object.defineProperty(t,"__esModule",{value:!0}),t.MatchEnv=t.walker=t.getRange=void 0,t.walker=function(e){return function(t){return t?function(n,r,s){const i=n.store();if(e(n,!1,s)){if(t(n,r))return!0;n.restore(i)}}:e}},t.MatchEnv=class{constructor(e,t){this.tokens=e,this.pattern=t,this.found=[],this.success=!1;let n=0;this.token=e[n],Object.defineProperties(this,{index:{get:()=>n,set(e){n=e,this.token=this.tokens[n]}}})}store(){return[this.index,this.found.length]}restore([e,t]){this.index=e,this.found.length=t}next(){const{index:e,tokens:t}=this;return t.length>e&&(this.index=e+1),e}prev(){const e=this.index;return e>0&&(this.index=e-1),e}compareIndex(e=-1){return e-this.index}isSuccess(e,t){return!e||this.index>=this.tokens.length-t}},t.getRange=function(e){let t=0,r=e[t];const s=[r,r];do{r=e[t],n(r),s[t>>1]=r,t+=2,t-1<e.length&&(","!==e[t-1].value||(s[t>>1]=Number.MAX_SAFE_INTEGER))}while(t<e.length);return s}})();var t=exports;for(var n in e)t[n]=e[n];e.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})();
//# sourceMappingURL=utils.js.map